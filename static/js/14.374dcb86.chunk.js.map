{"version":3,"sources":["src/components/LPTokenSelect.tsx","src/hooks/useLPTokensState.tsx","src/hooks/useRemoveLiquidityState.tsx","src/screens/RemoveLiquidityScreen.tsx"],"names":["LPTokenList","state","emptyText","Item","renderItem","useCallback","item","key","symbol","token","selected","onSelectToken","setSelectedLPToken","data","lpTokens","sort","p1","p2","m1","multiplier","m2","apy","loading","length","EmptyList","text","keyExtractor","style","margin","Spacing","normal","disabled","textAlign","width","LPTokenItem","props","textMedium","useColors","balance","formatBalance","decimals","onPress","containerStyle","marginBottom","ITEM_SEPARATOR_HEIGHT","alignItems","tokenA","small","replaceWETH","tokenB","marginLeft","medium","caption","tiny","flex","light","color","LPTokenSelect","title","expanded","selectedLPToken","onExpand","updatingLPTokens","useLPTokensState","mode","useTokenPairState","useContext","EthersContext","provider","address","tokens","useState","lastTimeRefreshed","setLastTimeRefreshed","setLoading","setLPTokens","selectedLPTokenAllowed","setSelectedLPTokenAllowed","pair","setPair","amount","setAmount","getPair","useSDK","updateLPTokens","a","async","fetchMyPools","fetchPools","fetchMyLPTokens","useEffect","useAsyncEffect","undefined","useDelayedOnBlockEffect","block","fromToken","toToken","updateLastTimeRefreshed","Date","now","useRemoveLiquidityState","signer","getTokenAllowance","updateTokens","useSwapRouter","removeLiquidity","removeLiquidityETH","zapOut","useZapper","outputToken","setOutputToken","removing","setRemoving","setFromSymbol","setToSymbol","minAllowance","ethers","BigNumber","from","pow","sub","ROUTER","allowance","gte","totalSupply","liquidityToken","fromReserve","parseCurrencyAmount","reserveOf","convertToken","toReserve","setFromAmount","parseBalance","mul","div","toString","setToAmount","removeFromRouter","fromAmount","toAmount","liquidity","isWETH","amountToRemove","amountToRemoveETH","tx","wait","onRemove","RemoveLiquidity","chainId","t","useTranslation","ChangeNetwork","View","marginTop","large","Border","LPTokenOutputItem","hidden","Selectable","FlexView","TokenLogo","Text","CloseIcon","SelectIcon","AmountInput","TokenInput","onAmountChanged","Heading","AmountInfo","outputAmount","useMemo","add","deduct","FEE","InfoBox","AmountMeta","suffix","Meta","label","Controls","error","setError","fromSymbol","toSymbol","approveRequired","isEmptyValue","onError","gt","InsufficientBalanceButton","FetchingButton","ApproveButton","spender","onSuccess","message","code","ErrorMessage","RemoveButton","catch","Button","RemoveLiquidityScreen","Screen","Container","BackgroundImage","Content","Title","Platform","OS","WebFooter"],"mappings":"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","file":"static/js/14.374dcb86.chunk.js","sourcesContent":["import React, { FC, useCallback } from \"react\";\nimport { FlatList, View, ViewStyle } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\nimport { LPTokensState } from \"../hooks/useLPTokensState\";\nimport LPToken from \"../types/LPToken\";\nimport { formatBalance } from \"../utils\";\nimport CloseIcon from \"./CloseIcon\";\nimport Expandable from \"./Expandable\";\nimport FlexView from \"./FlexView\";\nimport { ITEM_SEPARATOR_HEIGHT } from \"./ItemSeparator\";\nimport Loading from \"./Loading\";\nimport Selectable from \"./Selectable\";\nimport SelectIcon from \"./SelectIcon\";\nimport Text from \"./Text\";\nimport TokenLogo from \"./TokenLogo\";\n\nexport interface LPTokenSelectProps {\n    state: LPTokensState;\n    title: string;\n    emptyText: string;\n    Item: FC<LPTokenItemProps>;\n    disabled?: boolean;\n    style?: ViewStyle;\n}\n\nexport interface LPTokenItemProps {\n    token: LPToken;\n    selected: boolean;\n    onSelectToken: (token: LPToken) => void;\n}\n\nconst LPTokenSelect: FC<LPTokenSelectProps> = props => {\n    const onUnselectToken = () => props.state.setSelectedLPToken();\n    return (\n        <View style={props.style}>\n            <Expandable\n                title={props.title}\n                expanded={!props.state.selectedLPToken}\n                onExpand={() => props.state.setSelectedLPToken()}>\n                <LPTokenList state={props.state} emptyText={props.emptyText} Item={props.Item} />\n            </Expandable>\n            {props.state.selectedLPToken && (\n                <props.Item\n                    token={props.state.selectedLPToken}\n                    selected={true}\n                    onSelectToken={props.disabled ? () => {} : onUnselectToken}\n                />\n            )}\n        </View>\n    );\n};\n\n// tslint:disable-next-line:max-func-body-length\nconst LPTokenList = ({\n    state,\n    emptyText,\n    Item\n}: {\n    state: LPTokensState;\n    emptyText: string;\n    Item: FC<LPTokenItemProps>;\n}) => {\n    const renderItem = useCallback(\n        ({ item }) => {\n            return <Item key={item.symbol} token={item} selected={false} onSelectToken={state.setSelectedLPToken} />;\n        },\n        [state.setSelectedLPToken]\n    );\n    const data = state.lpTokens.sort((p1, p2) => {\n        const m1 = p1.multiplier || 0;\n        const m2 = p2.multiplier || 0;\n        return m1 === m2 ? (p2.apy || 0) - (p1.apy || 0) : m2 - m1;\n    });\n    return state.loading ? (\n        <Loading />\n    ) : data.length === 0 ? (\n        <EmptyList text={emptyText} />\n    ) : (\n        <FlatList keyExtractor={item => item.symbol} data={data} renderItem={renderItem} />\n    );\n};\n\nconst EmptyList = ({ text }: { text: string }) => {\n    return (\n        <View style={{ margin: Spacing.normal }}>\n            <Text disabled={true} style={{ textAlign: \"center\", width: \"100%\" }}>\n                {text}\n            </Text>\n        </View>\n    );\n};\n\nexport const LPTokenItem: FC<LPTokenItemProps> = props => {\n    const { textMedium } = useColors();\n    const balance = formatBalance(props.token.balance, props.token.decimals, 6);\n    const onPress = useCallback(() => {\n        props.onSelectToken(props.token);\n    }, [props.onSelectToken, props.token]);\n    return (\n        <Selectable\n            selected={props.selected}\n            onPress={onPress}\n            containerStyle={{ marginBottom: ITEM_SEPARATOR_HEIGHT }}>\n            <FlexView style={{ alignItems: \"center\" }}>\n                <TokenLogo token={props.token.tokenA} small={true} replaceWETH={true} />\n                <TokenLogo token={props.token.tokenB} small={true} replaceWETH={true} style={{ marginLeft: 4 }} />\n                <Text medium={true} caption={true} style={{ marginLeft: Spacing.tiny }}>\n                    {props.token.tokenA.symbol}-{props.token.tokenB.symbol}\n                </Text>\n                <View style={{ flex: 1, marginLeft: Spacing.tiny }}>\n                    <Text caption={true} light={true} style={{ textAlign: \"right\", color: textMedium }}>\n                        {balance}\n                    </Text>\n                </View>\n                {props.selected ? <CloseIcon /> : <SelectIcon />}\n            </FlexView>\n        </Selectable>\n    );\n};\n\nexport default LPTokenSelect;\n","import { useContext, useEffect, useState } from \"react\";\n\nimport { Pair } from \"@sushiswap/sdk\";\nimport useAsyncEffect from \"use-async-effect\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport LPToken from \"../types/LPToken\";\nimport { fetchMyLPTokens, fetchMyPools, fetchPools } from \"../utils/fetch-utils\";\nimport useDelayedOnBlockEffect from \"./useDelayedOnBlockEffect\";\nimport useSDK from \"./useSDK\";\nimport useTokenPairState, { TokenPairState } from \"./useTokenPairState\";\n\nexport interface LPTokensState extends TokenPairState {\n    updateLPTokens: () => Promise<void>;\n    lastTimeRefreshed: number;\n    updateLastTimeRefreshed: () => void;\n    lpTokens: LPToken[];\n    selectedLPToken?: LPToken;\n    setSelectedLPToken: (token?: LPToken) => void;\n    selectedLPTokenAllowed: boolean;\n    setSelectedLPTokenAllowed: (allowed: boolean) => void;\n    pair?: Pair;\n    amount: string;\n    setAmount: (amount: string) => void;\n}\n\ntype Mode = \"pools\" | \"my-pools\" | \"my-lp-tokens\" | \"my-uniswap-lp-tokens\";\n\nlet updatingLPTokens = false;\n\n// tslint:disable-next-line:max-func-body-length\nconst useLPTokensState: (mode: Mode) => LPTokensState = mode => {\n    const state = useTokenPairState();\n    const { provider, address, tokens } = useContext(EthersContext);\n    const [lastTimeRefreshed, setLastTimeRefreshed] = useState(0);\n    const [loading, setLoading] = useState(true);\n    const [lpTokens, setLPTokens] = useState<LPToken[]>([]);\n    const [selectedLPToken, setSelectedLPToken] = useState<LPToken>();\n    const [selectedLPTokenAllowed, setSelectedLPTokenAllowed] = useState(false);\n    const [pair, setPair] = useState<Pair>();\n    const [amount, setAmount] = useState(\"\");\n    const { getPair } = useSDK();\n\n    const updateLPTokens = async () => {\n        if (address && provider && tokens.length > 0 && !updatingLPTokens) {\n            try {\n                updatingLPTokens = true;\n                const data = await (mode === \"my-pools\"\n                    ? fetchMyPools(address, tokens, provider)\n                    : mode === \"pools\"\n                    ? fetchPools(address, tokens, provider)\n                    : fetchMyLPTokens(address, tokens, provider));\n                if (data) {\n                    setLPTokens(data);\n                }\n            } finally {\n                updatingLPTokens = false;\n                setLoading(false);\n            }\n        }\n    };\n\n    useEffect(() => {\n        if (!selectedLPToken) {\n            setAmount(\"\");\n        }\n    }, [selectedLPToken]);\n\n    useAsyncEffect(async () => {\n        setLoading(true);\n        setPair(undefined);\n        if (selectedLPToken && provider) {\n            try {\n                setPair(await getPair(selectedLPToken.tokenA, selectedLPToken.tokenB, provider));\n            } catch (e) {\n            } finally {\n                setLoading(false);\n            }\n        } else {\n            setLoading(false);\n        }\n    }, [selectedLPToken, provider]);\n\n    useDelayedOnBlockEffect(\n        async block => {\n            if (address && (mode === \"pools\" || tokens.length > 0)) {\n                if (!block) {\n                    setLoading(true);\n                }\n                await updateLPTokens();\n            }\n        },\n        () => \"updateLPTokens()\",\n        [tokens.length, address, lastTimeRefreshed],\n        0\n    );\n\n    return {\n        ...state,\n        fromToken: state.fromToken || selectedLPToken?.tokenA,\n        toToken: state.toToken || selectedLPToken?.tokenB,\n        updateLPTokens,\n        loading: state.loading || loading,\n        lastTimeRefreshed,\n        updateLastTimeRefreshed: () => {\n            setLastTimeRefreshed(Date.now());\n        },\n        lpTokens,\n        selectedLPToken,\n        setSelectedLPToken,\n        selectedLPTokenAllowed,\n        setSelectedLPTokenAllowed,\n        pair,\n        amount,\n        setAmount\n    };\n};\n\nexport default useLPTokensState;\n","import { useCallback, useContext, useEffect, useState } from \"react\";\n\nimport { ethers } from \"ethers\";\nimport useAsyncEffect from \"use-async-effect\";\nimport { ROUTER } from \"../constants/contracts\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport Token from \"../types/Token\";\nimport { convertToken, formatBalance, isWETH, parseBalance, parseCurrencyAmount } from \"../utils\";\nimport useLPTokensState, { LPTokensState } from \"./useLPTokensState\";\nimport useSwapRouter from \"./useSwapRouter\";\nimport useZapper from \"./useZapper\";\n\nexport interface RemoveLiquidityState extends LPTokensState {\n    outputToken?: Token;\n    setOutputToken: (token?: Token) => void;\n    onRemove: () => Promise<void>;\n    removing: boolean;\n}\n\n// tslint:disable-next-line:max-func-body-length\nconst useRemoveLiquidityState: () => RemoveLiquidityState = () => {\n    const state = useLPTokensState(\"my-lp-tokens\");\n    const { provider, signer, getTokenAllowance, updateTokens } = useContext(EthersContext);\n    const { removeLiquidity, removeLiquidityETH } = useSwapRouter();\n    const { zapOut } = useZapper();\n    const [loading, setLoading] = useState(false);\n    const [outputToken, setOutputToken] = useState<Token>();\n    const [removing, setRemoving] = useState(false);\n\n    /*useEffect(() => {\n        setOutputToken(undefined);\n    }, [state.selectedLPToken]);\n\n    useEffect(() => {\n        state.setAmount(\"\");\n    }, [outputToken]);*/\n\n    useAsyncEffect(async () => {\n        if (signer && state.selectedLPToken) {\n            state.setFromSymbol(state.selectedLPToken.tokenA.symbol);\n            state.setToSymbol(state.selectedLPToken.tokenB.symbol);\n\n            setLoading(true);\n            state.setSelectedLPTokenAllowed(false);\n            try {\n                const minAllowance = ethers.BigNumber.from(2)\n                    .pow(96)\n                    .sub(1);\n                const allowance = await getTokenAllowance(state.selectedLPToken.address, ROUTER);\n                state.setSelectedLPTokenAllowed(ethers.BigNumber.from(allowance).gte(minAllowance));\n            } finally {\n                setLoading(false);\n            }\n        } else {\n            state.setFromSymbol(\"\");\n            state.setToSymbol(\"\");\n        }\n    }, [signer, state.selectedLPToken]);\n\n    // tslint:disable-next-line:max-func-body-length\n    useAsyncEffect(async () => {\n        if (\n            state.selectedLPToken &&\n            state.selectedLPToken.totalSupply &&\n            state.pair &&\n            state.fromToken &&\n            state.toToken\n        ) {\n            if (state.pair.liquidityToken.address === state.selectedLPToken.address) {\n                const fromReserve = parseCurrencyAmount(\n                    state.pair.reserveOf(convertToken(state.fromToken)),\n                    state.fromToken.decimals\n                );\n                const toReserve = parseCurrencyAmount(\n                    state.pair.reserveOf(convertToken(state.toToken)),\n                    state.toToken.decimals\n                );\n                state.setFromAmount(\n                    formatBalance(\n                        parseBalance(state.amount, state.selectedLPToken.decimals)\n                            .mul(fromReserve)\n                            .div(state.selectedLPToken.totalSupply)\n                            .toString(),\n                        state.selectedLPToken.tokenA.decimals\n                    )\n                );\n                state.setToAmount(\n                    formatBalance(\n                        parseBalance(state.amount, state.selectedLPToken.decimals)\n                            .mul(toReserve)\n                            .div(state.selectedLPToken.totalSupply)\n                            .toString(),\n                        state.selectedLPToken.tokenB.decimals\n                    )\n                );\n            }\n        }\n    }, [state.selectedLPToken, state.amount, state.pair, state.fromToken, state.toToken, signer]);\n\n    const removeFromRouter = async () => {\n        if (state.selectedLPToken && signer) {\n            const fromAmount = parseBalance(state.fromAmount, state.fromToken!.decimals);\n            const toAmount = parseBalance(state.toAmount, state.toToken!.decimals);\n            const liquidity = parseBalance(state.amount, state.selectedLPToken.decimals);\n            if (isWETH(state.fromToken) || isWETH(state.toToken)) {\n                const token = isWETH(state.fromToken) ? state.toToken! : state.fromToken!;\n                const amountToRemove = isWETH(state.fromToken) ? toAmount : fromAmount;\n                const amountToRemoveETH = isWETH(state.fromToken) ? fromAmount : toAmount;\n                const tx = await removeLiquidityETH(token, liquidity, amountToRemove, amountToRemoveETH, signer);\n                await tx.wait();\n            } else {\n                const tx = await removeLiquidity(\n                    state.fromToken!,\n                    state.toToken!,\n                    liquidity,\n                    fromAmount,\n                    toAmount,\n                    signer\n                );\n                await tx.wait();\n            }\n        }\n    };\n\n    const onRemove = useCallback(async () => {\n        if (\n            state.fromAmount &&\n            state.toAmount &&\n            state.selectedLPToken &&\n            state.amount &&\n            // outputToken &&\n            provider &&\n            signer\n        ) {\n            setRemoving(true);\n            try {\n                // if (outputToken === state.selectedLPToken) {\n                await removeFromRouter();\n                // } else {\n                //     const amount = parseBalance(state.amount, state.selectedLPToken.decimals);\n                //     const tx = await zapOut(state.selectedLPToken, outputToken, amount, provider, signer);\n                //     await tx.wait();\n                // }\n                await updateTokens();\n                await state.updateLPTokens();\n                state.setSelectedLPToken(undefined);\n            } finally {\n                setRemoving(false);\n            }\n        }\n    }, [\n        state.fromAmount,\n        state.toAmount,\n        state.selectedLPToken,\n        state.amount,\n        state.updateLPTokens,\n        removeFromRouter,\n        zapOut,\n        updateTokens,\n        // outputToken,\n        provider,\n        signer\n    ]);\n\n    return {\n        ...state,\n        loading: state.loading || loading,\n        outputToken,\n        setOutputToken,\n        onRemove,\n        removing\n    };\n};\n\nexport default useRemoveLiquidityState;\n","import React, { useCallback, useContext, useMemo, useState } from \"react\";\nimport { Platform, View } from \"react-native\";\n\nimport useAsyncEffect from \"use-async-effect\";\nimport AmountMeta from \"../components/AmountMeta\";\nimport ApproveButton from \"../components/ApproveButton\";\nimport BackgroundImage from \"../components/BackgroundImage\";\nimport Border from \"../components/Border\";\nimport Button from \"../components/Button\";\nimport ChangeNetwork from \"../components/ChangeNetwork\";\nimport CloseIcon from \"../components/CloseIcon\";\nimport Container from \"../components/Container\";\nimport Content from \"../components/Content\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport FetchingButton from \"../components/FetchingButton\";\nimport FlexView from \"../components/FlexView\";\nimport Heading from \"../components/Heading\";\nimport InfoBox from \"../components/InfoBox\";\nimport InsufficientBalanceButton from \"../components/InsufficientBalanceButton\";\nimport { ITEM_SEPARATOR_HEIGHT } from \"../components/ItemSeparator\";\nimport LPTokenSelect, { LPTokenItem } from \"../components/LPTokenSelect\";\nimport Meta from \"../components/Meta\";\nimport Selectable from \"../components/Selectable\";\nimport SelectIcon from \"../components/SelectIcon\";\nimport Text from \"../components/Text\";\nimport Title from \"../components/Title\";\nimport TokenInput from \"../components/TokenInput\";\nimport TokenLogo from \"../components/TokenLogo\";\nimport TokenSymbol from \"../components/TokenSymbol\";\nimport WebFooter from \"../components/web/WebFooter\";\nimport { LiquiditySubMenu } from \"../components/web/WebSubMenu\";\nimport { ROUTER } from \"../constants/contracts\";\nimport { IS_DESKTOP, Spacing } from \"../constants/dimension\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useRemoveLiquidityState, { RemoveLiquidityState } from \"../hooks/useRemoveLiquidityState\";\nimport { FEE } from \"../hooks/useSwapRouter\";\nimport useTranslation from \"../hooks/useTranslation\";\nimport LPToken from \"../types/LPToken\";\nimport MetamaskError from \"../types/MetamaskError\";\nimport Token from \"../types/Token\";\nimport { deduct, formatBalance, isEmptyValue, parseBalance } from \"../utils\";\nimport Screen from \"./Screen\";\n\nconst RemoveLiquidityScreen = () => {\n    const t = useTranslation();\n    return (\n        <Screen>\n            <Container>\n                <BackgroundImage />\n                <Content>\n                    <Title text={t(\"remove-liquidity\")} />\n                    <Text light={true}>{t(\"remove-liquidity-desc\")}</Text>\n                    <RemoveLiquidity />\n                </Content>\n                {Platform.OS === \"web\" && <WebFooter />}\n            </Container>\n            <LiquiditySubMenu />\n        </Screen>\n    );\n};\n\nconst RemoveLiquidity = () => {\n    const { chainId } = useContext(EthersContext);\n    const t = useTranslation();\n    const state = useRemoveLiquidityState();\n    if (chainId !== 1) return <ChangeNetwork />;\n    return (\n        <View style={{ marginTop: Spacing.large }}>\n            <LPTokenSelect\n                state={state}\n                title={t(\"your-liquidity\")}\n                emptyText={t(\"you-dont-have-liquidity\")}\n                Item={LPTokenItem}\n            />\n            {/*<Border />*/}\n            {/*<OutputTokenSelect state={state} />*/}\n            <Border />\n            <AmountInput state={state} />\n            <AmountInfo state={state} />\n        </View>\n    );\n};\n\nconst OutputTokenSelect = ({ state }: { state: RemoveLiquidityState }) => {\n    const t = useTranslation();\n    if (!state.selectedLPToken) return <Heading text={t(\"output-tokens\")} disabled={true} />;\n    const onSelectToken = (token: Token) => () => state.setOutputToken(state.outputToken ? undefined : token);\n    return (\n        <View>\n            <Heading text={t(\"output-tokens\")} />\n            <TokenOutputItem\n                token={state.selectedLPToken.tokenA}\n                otherToken={state.selectedLPToken.tokenB}\n                selected={state.outputToken === state.selectedLPToken.tokenA}\n                hidden={!!state.outputToken && state.outputToken !== state.selectedLPToken.tokenA}\n                onSelectToken={onSelectToken(state.selectedLPToken.tokenA)}\n            />\n            <TokenOutputItem\n                token={state.selectedLPToken.tokenB}\n                otherToken={state.selectedLPToken.tokenA}\n                selected={state.outputToken === state.selectedLPToken.tokenB}\n                hidden={!!state.outputToken && state.outputToken !== state.selectedLPToken.tokenB}\n                onSelectToken={onSelectToken(state.selectedLPToken.tokenB)}\n            />\n            <LPTokenOutputItem\n                token={state.selectedLPToken}\n                selected={state.outputToken === state.selectedLPToken}\n                hidden={!!state.outputToken && state.outputToken !== state.selectedLPToken}\n                onSelectToken={onSelectToken(state.selectedLPToken)}\n            />\n        </View>\n    );\n};\n\nconst TokenOutputItem = (props: {\n    token: Token;\n    otherToken: Token;\n    selected: boolean;\n    hidden: boolean;\n    onSelectToken: () => void;\n}) => {\n    const t = useTranslation();\n    if (props.hidden) return <View />;\n    return (\n        <Selectable\n            selected={props.selected}\n            onPress={props.onSelectToken}\n            containerStyle={{\n                marginBottom: ITEM_SEPARATOR_HEIGHT\n            }}>\n            <FlexView style={{ alignItems: \"center\" }}>\n                <TokenLogo token={props.token} />\n                <TokenSymbol token={props.token} />\n                <Text note={true} style={{ flex: 1, marginLeft: Spacing.tiny }}>\n                    {IS_DESKTOP &&\n                        t(\"will-be-converted-to\", {\n                            fromSymbol: props.otherToken.symbol,\n                            toSymbol: props.token.symbol\n                        })}\n                </Text>\n                {props.selected ? <CloseIcon /> : <SelectIcon />}\n            </FlexView>\n        </Selectable>\n    );\n};\n\nexport const LPTokenOutputItem = (props: {\n    token: LPToken;\n    selected: boolean;\n    hidden: boolean;\n    onSelectToken: () => void;\n}) => {\n    if (props.hidden) return <View />;\n    return (\n        <Selectable\n            selected={props.selected}\n            onPress={props.onSelectToken}\n            containerStyle={{ marginBottom: ITEM_SEPARATOR_HEIGHT }}>\n            <FlexView style={{ alignItems: \"center\" }}>\n                <TokenLogo token={props.token.tokenA} small={true} replaceWETH={true} />\n                <TokenLogo token={props.token.tokenB} small={true} replaceWETH={true} style={{ marginLeft: 4 }} />\n                <Text medium={true} caption={true} style={{ marginLeft: Spacing.tiny }}>\n                    {props.token.tokenA.symbol} + {props.token.tokenB.symbol}\n                </Text>\n                <View style={{ flex: 1 }} />\n                {props.selected ? <CloseIcon /> : <SelectIcon />}\n            </FlexView>\n        </Selectable>\n    );\n};\n\nconst AmountInput = ({ state }: { state: RemoveLiquidityState }) => {\n    const t = useTranslation();\n    if (!state.selectedLPToken /* || !state.outputToken*/) {\n        return <Heading text={t(\"amount-of-tokens\")} disabled={true} />;\n    }\n    return (\n        <TokenInput\n            title={t(\"amount-of-tokens\")}\n            token={state.selectedLPToken}\n            amount={state.amount}\n            onAmountChanged={state.setAmount}\n        />\n    );\n};\n\nconst AmountInfo = ({ state }: { state: RemoveLiquidityState }) => {\n    const t = useTranslation();\n    const disabled = !state.selectedLPToken || !state.fromToken || !state.toToken;\n    const outputAmount = useMemo(() => {\n        if (state.fromToken && state.outputToken === state.fromToken) {\n            const amount = parseBalance(state.fromAmount, state.fromToken.decimals);\n            return formatBalance(amount.add(deduct(amount, FEE)), state.fromToken.decimals);\n        } else if (state.toToken && state.outputToken === state.toToken) {\n            const amount = parseBalance(state.toAmount, state.toToken.decimals);\n            return formatBalance(amount.add(deduct(amount, FEE)), state.toToken.decimals);\n        }\n    }, [state.outputToken, state.fromToken, state.toToken, state.fromAmount, state.toAmount]);\n    return (\n        <InfoBox>\n            {(state.outputToken === state.fromToken || state.outputToken === state.toToken) && (\n                <AmountMeta amount={outputAmount} suffix={state.outputToken?.symbol} disabled={disabled} />\n            )}\n            <Meta\n                label={state.fromToken ? state.fromToken.symbol : t(\"1st-token\")}\n                text={state.fromAmount}\n                disabled={disabled}\n            />\n            <Meta\n                label={state.toToken ? state.toToken.symbol : t(\"2nd-token\")}\n                text={state.toAmount}\n                disabled={disabled}\n            />\n            <Controls state={state} />\n        </InfoBox>\n    );\n};\n\n// tslint:disable-next-line:max-func-body-length\nconst Controls = ({ state }: { state: RemoveLiquidityState }) => {\n    const [error, setError] = useState<MetamaskError>({});\n    useAsyncEffect(() => setError({}), [state.fromSymbol, state.toSymbol, state.fromAmount]);\n    const approveRequired = /*state.outputToken === state.selectedLPToken && */ !state.selectedLPTokenAllowed;\n    const disabled = approveRequired || isEmptyValue(state.amount);\n    return (\n        <View style={{ marginTop: Spacing.normal }}>\n            {!state.selectedLPToken || isEmptyValue(state.amount) ? (\n                <RemoveButton state={state} onError={setError} disabled={true} />\n            ) : parseBalance(state.amount, state.selectedLPToken.decimals).gt(state.selectedLPToken.balance) ? (\n                <InsufficientBalanceButton symbol={state.selectedLPToken.symbol} />\n            ) : state.loading || !state.pair ? (\n                <FetchingButton />\n            ) : (\n                <>\n                    <ApproveButton\n                        token={state.selectedLPToken}\n                        spender={ROUTER}\n                        onSuccess={() => state.setSelectedLPTokenAllowed(true)}\n                        onError={setError}\n                        hidden={!approveRequired}\n                    />\n                    <RemoveButton state={state} onError={setError} disabled={disabled} />\n                </>\n            )}\n            {error.message && error.code !== 4001 && <ErrorMessage error={error} />}\n        </View>\n    );\n};\n\nconst RemoveButton = ({\n    state,\n    onError,\n    disabled\n}: {\n    state: RemoveLiquidityState;\n    onError: (e) => void;\n    disabled: boolean;\n}) => {\n    const t = useTranslation();\n    const onPress = useCallback(() => {\n        onError({});\n        state.onRemove().catch(onError);\n    }, [state.onRemove, onError]);\n    return <Button title={t(\"remove-liquidity\")} disabled={disabled} loading={state.removing} onPress={onPress} />;\n};\n\nexport default RemoveLiquidityScreen;\n"],"sourceRoot":""}